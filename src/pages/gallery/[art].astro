---
import { getCollection } from "astro:content"

export async function getStaticPaths() {
    const artEntries = await getCollection("art")
    return artEntries.map((entry) => ({
        params: { art: entry.slug },
        props: { entry }
    }))
    // return [
    //     {params: {art: '7A0725E1-7D46-44ED-A23A-D71C79EC57F6_1_105_c'.toLowerCase()}},
    //     {params: {art: '89EA1DE5-A9B0-4F37-A857-B2B6123D5F8C_1_105_c'.toLowerCase()}},
    //     {params: {art: 'cb8fc4a0-d099-4567-9552-831bfbaf9468_1_105_c'}},
    // ];
}
const { art } = Astro.params

import { Image } from "astro:assets"
import { getEntry } from "astro:content"
import Layout from "../../layouts/Layout.astro"
import Prose from "../../components/Prose.astro"

// const images = import.meta.glob<{ default: ImageMetadata }>('../../data/art/*.{jpeg,jpg,png,gif}')
// const imagePath = `../../data/art/${art}.jpeg`

// const thisArt = await getEntry('art', art);
// const { Content } = await thisArt.render()

const { entry } = Astro.props
const { Content } = await entry.render()
---

<Layout title="art post">
    <main class="m-0">
        <div class="flex h-screen w-full items-center justify-center">
            <Image
                src={entry?.data.image}
                alt="Large image of art"
                width={600}
                class="self-start shadow-md shadow-stone-500"
            />
        </div>
        <div class="w-full lg:w-2/3 m-auto">
            <Prose>
                <Content />
            </Prose>
        </div>
    </main>
</Layout>
